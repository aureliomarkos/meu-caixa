CREATE TABLE Usuarios (
    id_usuario INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(255),
    senha VARCHAR(255)
);

CREATE TABLE Clientes (
    id_cliente INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    telefone VARCHAR(20),
    email VARCHAR(255),
    limite_credito DECIMAL(10, 2) DEFAULT 0.00,
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Categorias (
    id_categoria INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
);

CREATE TABLE Produtos (
    id_produto INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    id_categoria INT,
    preco_custo DECIMAL(10, 2),
    preco_venda DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (id_categoria) REFERENCES Categorias(id_categoria)
);


CREATE TABLE Fornecedores (
    id_fornecedor INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    telefone VARCHAR(20),
    contato VARCHAR(50),
);

CREATE TABLE Funcionarios (
    id_funcionario INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    telefone VARCHAR(20),    
    salario DECIMAL(10, 2) NOT NULL,
    data_admissao DATE
);

CREATE TABLE Adiantamentos (
    id_lancamento INT PRIMARY KEY AUTO_INCREMENT,
    id_funcionario INT,
    tipo ENUM('Adiantamento', 'Vale', 'Salário', 'Bônus', 'Outros') DEFAULT 'Adiantamento' NOT NULL,
    valor DECIMAL(10, 2) NOT NULL,
    data_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    mes_referencia VARCHAR(7),
    FOREIGN KEY (id_funcionario) REFERENCES Funcionarios(id_funcionario)
);

CREATE TABLE Vendas (
    id_vendas INT PRIMARY KEY AUTO_INCREMENT,
    id_cliente INT,
    data_venda TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status_pagamento ENUM('Pendente', 'Pago', 'Parcial') DEFAULT 'Pendente',
    forma_pagamento ENUM('Dinheiro', 'Cartão Débito', 'Cartão Crédito', 'Pix'),
    valor_total DECIMAL(10, 2),
    FOREIGN KEY (id_cliente) REFERENCES Clientes(id_cliente)
);

CREATE TABLE Venda_Itens (
    id_venda_item INT PRIMARY KEY AUTO_INCREMENT,
    id_vendas INT,
    id_produto INT,
    qtde DECIMAL(10, 2),
    valor_unitario DECIMAL(10, 2),
    subtotal DECIMAL(10, 2),
    FOREIGN KEY (id_vendas) REFERENCES Vendas(id_vendas),
    FOREIGN KEY (id_produto) REFERENCES Produtos(id_produto)
);

CREATE TABLE Contas_Pagar (
    id_contas_pagar INT PRIMARY KEY AUTO_INCREMENT,
    id_fornecedor INT,
    numero_nota VARCHAR(50),
    data_vencimento DATE NOT NULL,
    valor_total_nota DECIMAL(10, 2) NOT NULL,
    status ENUM('A Vencer', 'Pago', 'Atrasado') DEFAULT 'A Vencer',
    FOREIGN KEY (id_fornecedor) REFERENCES Fornecedores(id_fornecedor)
);

CREATE TABLE Contas_Pagar_Itens (
    id_contas_pagar_item INT PRIMARY KEY AUTO_INCREMENT,
    id_contas_pagar INT,
    descricao_item VARCHAR(100), -- Ex: "Patinho KG", "Arroz 5kg"
    qtde DECIMAL(10, 2),
    valor_unitario DECIMAL(10, 2),
    FOREIGN KEY (id_contas_pagar) REFERENCES Contas_Pagar(id_contas_pagar)
);